!function(){function e(t,i,n){function c(r,a){if(!i[r]){if(!t[r]){var d="function"==typeof require&&require;if(!a&&d)return d(r,!0);if(o)return o(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var p=i[r]={exports:{}};t[r][0].call(p.exports,function(e){var i=t[r][1][e];return c(i||e)},p,p.exports,e,t,i,n)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)c(n[r]);return c}return e}()({1:[function(e,t,i){"use strict";$(document).ready(function(){function e(){var e=[];c.text(n.province.name+(n.city?" , "+n.city.name:"")+(n.county?" , "+n.county.name:""));try{e=n.county?t[n.province.id][n.city.id][n.county.id]:t[n.province.id][n.city.id]}catch(t){e=[]}d.text((e||[]).length),l.html(a.tmpl({data:e||[]}))}var t=window._storeData,i=window._citys,n={data:i,province:{id:11e4,name:"北京市"},city:{id:110100,name:"市辖区"},county:{id:110101,name:"东城区"},level:0},c=$("#search-input"),o=$("#position-picker"),r=$("#position-box"),a=$("#search-result"),d=$("#search-count"),l=$("#search-list");o.tmpl(n).appendTo("#position-box");var p,u=new BMap.Map("map-box"),v=new BMap.Point(116.404,39.915);u.centerAndZoom(v,12),e(),c.click(function(e){e.stopPropagation(),r.toggle()}),$("body").click(function(){r.hide()}),r.delegate(".tab-item","click",function(e){e.stopPropagation();var t=$(this),c=t.index();0===c?(n.data=i,n.level=0):1===c&&n.province?(n.data=i[n.province.id].child,n.level=1):2===c&&n.province&&n.city&&(n.data=i[n.province.id].child[n.city.id].child,n.level=2),r.html(o.tmpl(n))}),r.delegate(".item a","click",function(t){t.stopPropagation();var c=$(this),a=c.data("id"),d=c.text();0===n.level?(n.province={id:a,name:d},n.city=null,n.county=null,n.data=i[n.province.id].child,n.level=1):1===n.level?(n.city={id:a,name:d},n.county=null,i[n.province.id].child[n.city.id].child?(n.data=i[n.province.id].child[n.city.id].child,n.level=2):(r.hide(),e(),u.centerAndZoom("市辖区"==n.city.name?n.province.name:n.city.name,12))):2===n.level&&(n.county={id:a,name:d},r.hide(),e(),u.centerAndZoom("市辖区"==n.city.name?n.province.name:n.city.name,12)),r.html(o.tmpl(n))}),l.delegate(".store-item","click",function(e){var t,i,n=$(this),c=n.data("gps").split(",");2==c.length&&(t=Number(c[0]),i=Number(c[1]),v=new BMap.Point(t,i),p=new BMap.Marker(v),u.addOverlay(p),u.centerAndZoom(v,20))})})},{}]},{},[1]);